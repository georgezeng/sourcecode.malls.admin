(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f25c"],{d91b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",[n("Input",{ref:"searchInput",staticStyle:{float:"left",width:"200px"},attrs:{search:"","enter-button":""},on:{"on-search":t.loadData}}),n("Button",{staticClass:"float-right",attrs:{disabled:t.deleteBtnDisabled,type:"error"},on:{click:t.deleteBulk}},[t._v("批量删除")]),n("div",{staticClass:"clearfix"}),n("Table",{staticClass:"margin-top-bottom",attrs:{data:t.data,columns:t.columns},on:{"on-select-all":t.enableDeleteBtn,"on-select":t.enableDeleteBtn,"on-sort-change":t.sortChange,"on-select-all-cancel":t.disableDeleteBtn,"on-select-cancel":t.disableDeleteBtn}}),n("Page",{staticClass:"float-right",attrs:{total:t.total,"page-size":t.queryInfo.page.size,current:t.queryInfo.page.num,"show-elevator":"","show-sizer":""},on:{"on-change":t.changePage}}),n("div",{staticClass:"clearfix"})],1)],1)},s=[],o=(n("ac6a"),n("66df")),l={list:function(t){return o["a"].post("/role/list",t)},delete:function(t){return o["a"].post("/role/delete",{ids:t})}},i=n("e069"),r={name:"RoleList",components:{},data:function(){var t=this;return{queryInfo:{page:{num:1,size:20,property:"name",order:"ASC"}},ids:[],total:0,deleteBtnDisabled:!0,columns:[{type:"selection",width:60,align:"center"},{title:"角色名",key:"name",sortable:!0,sortType:"asc"},{title:"编码",key:"code",sortable:!0},{title:"描述",key:"description"},{title:"操作",key:"action",render:function(e,n){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"你确定要删除吗?"},on:{"on-ok":function(){t.deleteData([n.row.id])}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data:[]}},methods:{loadData:function(){this.queryInfo.data=this.$refs.searchInput.$refs.input.value,this.queryInfo.page.num=1,this.changePage()},sortChange:function(t){var e=t.key,n=t.order;n||(n="ASC"),this.queryInfo.page.property=e,this.queryInfo.page.order=n.toUpperCase(),this.loadData()},changePage:function(){var t=this;l.list(this.queryInfo).then(function(e){t.data=e.list,t.total=e.total}).catch(function(t){})},deleteBulk:function(){this.deleteData(this.ids)},deleteData:function(t){l.delete(t).then(function(t){i["Message"].success("删除成功")}).catch(function(t){})},enableDeleteBtn:function(t){this.deleteBtnDisabled=!1,this.recollectIds(t)},disableDeleteBtn:function(t){this.deleteBtnDisabled=0==t.length,this.recollectIds(t)},recollectIds:function(t){var e=this;t&&(this.ids=[],t.forEach(function(t){e.ids.push(t.id)}))}},mounted:function(){this.loadData()}},c=r,u=n("2877"),d=Object(u["a"])(c,a,s,!1,null,null,null);d.options.__file="role-list.vue";e["default"]=d.exports}}]);